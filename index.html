<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TuChat ‚Äî Demo</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  /* Cards tipo Tinder */
.model-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
  margin-top:30px;
}
.model-card {
  background:#fff;
  color:#000;
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 4px 20px rgba(0,0,0,.1);
  display:flex;
  flex-direction:column;
}
.model-card img {
  width:100%;
  height:280px;
  object-fit:cover;
}
.model-card .info {
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.model-card .name {
  font-weight:600;
  font-size:16px;
}
.model-card .extra {
  font-size:13px;
  color:#555;
}
.model-card .online {
  display:inline-block;
  background:#27ae60;
  color:#fff;
  font-size:12px;
  padding:2px 6px;
  border-radius:6px;
  margin-left:6px;
}
.model-card button {
  background:#d6003d;
  color:#fff;
  border:none;
  border-radius:0;
  padding:12px;
  cursor:pointer;
  font-weight:600;
}

/* ====== ESTILOS ====== */
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;font-family:Poppins,system-ui,sans-serif;background:#0b1220;color:#e9f6ff}
a{color:inherit;text-decoration:none}
.hidden{display:none!important}
.container{max-width:1100px;margin:0 auto;padding:16px}
.header{position:sticky;top:0;z-index:50;background:rgba(10,18,32,.65);backdrop-filter:blur(6px);border-bottom:1px solid #132338}
.header-inner{display:flex;justify-content:space-between;align-items:center;padding:12px 16px}
.brand{display:flex;align-items:center;gap:10px;font-weight:700}
.dot{width:10px;height:10px;border-radius:50%;background:#ff2e6a;display:inline-block}
.btn{border:0;padding:10px 14px;border-radius:12px;font-weight:600;cursor:pointer;transition:.15s}
.btn:active{transform:translateY(1px)}
.btn-primary{background:#ff2e6a;color:#fff}
.btn-secondary{background:#0d223b;color:#cfe7ff}
.btn-ghost{background:transparent;color:#cfe7ff;border:1px solid #244362}
.btn-danger{background:#ef476f;color:#fff}
.btn-success{background:#18c37e;color:#fff}
.btn-warning{background:#ffb020;color:#1b1407}
.input{width:100%;background:#0e192a;color:#d9eeff;border:1px solid #1f3550;border-radius:12px;padding:12px 14px}
.card{background:#0f1a2b;border:1px solid #1b3150;border-radius:18px;padding:16px;box-shadow:0 10px 32px rgba(0,0,0,.35)}
.small{color:#9bc2df;font-size:12px}

/* Auth */
.auth-wrap{min-height:100dvh;display:grid;place-items:center;background:#0b1220}
.auth-card{width:min(480px,92vw)}
.auth-tabs{display:flex;gap:8px;margin-bottom:12px}
.auth-tabs .btn{flex:1}

/* Layout chat */
.chat-layout{display:grid;grid-template-columns:320px 1fr;gap:16px}
@media (max-width:960px){.chat-layout{grid-template-columns:1fr}}
.sidebar .coins{display:flex;gap:8px;align-items:center;justify-content:space-between;background:#0f1a2b;border:1px solid #1b3150;padding:10px 12px;border-radius:14px;margin-bottom:12px}
.model-list{display:grid;gap:10px}
.model-item{display:flex;gap:12px;align-items:center;padding:10px;border:1px solid #203a5d;background:#0c1728;border-radius:14px;cursor:pointer}
.model-item img{width:46px;height:46px;border-radius:12px}
.chat-card{height:calc(100dvh - 150px);display:flex;flex-direction:column}
.chat-body{flex:1;overflow:auto;display:flex;flex-direction:column;gap:8px;padding:10px 2px}
.msg{max-width:70%;padding:10px 12px;border-radius:14px;line-height:1.35;font-size:15px}
.msg.you{align-self:flex-end;background:#12253c}
.msg.them{align-self:flex-start;background:#0c1728}
.typing{color:#99c7ff;font-size:12px;padding:6px 0;display:none}
.typing.on{display:block}
.chat-input{display:flex;gap:8px;align-items:center;padding-top:10px;border-top:1px solid #1b3150}
.chat-input .input{flex:1}

/* Swipe tipo Tinder */
.swipe-wrap{position:relative;height:420px}
.card-swipe{position:absolute;inset:0;border-radius:22px;overflow:hidden;background:#0f1a2b;display:grid;grid-template-rows:1fr auto;box-shadow:0 20px 50px rgba(0,0,0,.45)}
.card-swipe img{width:100%;height:100%;object-fit:cover}
.card-swipe .info{padding:12px;background:linear-gradient(180deg,transparent,rgba(0,0,0,.6));color:#fff}
.swipe-actions{display:flex;justify-content:center;gap:12px;margin-top:8px}
.swipe-actions .btn{width:56px;height:56px;border-radius:99px}
.view{display:none}.view.active{display:block}
</style>
</head>
<body>

<!-- HEADER -->
<header class="header">
  <div class="header-inner container">
    <div class="brand"><span class="dot"></span> TuChat ‚≠ê</div>
    <nav style="display:flex;gap:8px">
      <button class="btn btn-ghost" data-go="auth">Auth</button>
      <button class="btn btn-ghost" data-go="chat">Chat</button>
      <button class="btn btn-ghost" data-go="profile">Perfil</button>
      <button id="btnGlobalLogout" class="btn btn-danger">Salir</button>
    </nav>
  </div>
</header>

<main class="container">
  <!-- AUTH -->
  <section id="view-auth" class="view active">
    <div class="auth-wrap">
      <div class="auth-card card">
        <div class="auth-tabs">
          <button class="btn btn-secondary" id="tabLogin">Iniciar sesi√≥n</button>
          <button class="btn btn-ghost" id="tabReg">Registrarme</button>
        </div>
        <div id="loginBox">
          <div class="field"><input class="input" id="loginId" placeholder="Correo o Tel√©fono"/></div>
          <div class="field"><input class="input" id="loginPass" type="password" placeholder="Contrase√±a"/></div>
          <button class="btn btn-primary" id="btnLogin">Entrar</button>
        </div>
        <div id="regBox" class="hidden">
          <div class="field"><input class="input" id="regEmail" placeholder="Correo"/></div>
          <div class="field"><input class="input" id="regAlias" placeholder="Alias"/></div>
          <div class="field"><input class="input" id="regPass" type="password" placeholder="Contrase√±a"/></div>
          <button class="btn btn-primary" id="btnRegister">Crear cuenta</button>
        </div>
      </div>
    </div>
  </section>

  <!-- CHAT -->
  <section id="view-chat" class="view">
    <div class="card swipe-section">
      <h3>Descubre</h3>
      <div class="swipe-wrap" id="swipeWrap"></div>
      <div class="swipe-actions">
        <button class="btn btn-secondary" id="btnNope">‚úñ</button>
        <button class="btn btn-primary" id="btnLike">‚ù§</button>
      </div>
    </div>
    <div class="chat-layout">
      <aside class="sidebar">
        <div class="coins">Monedas: <b id="coinsLabel">0</b></div>
        <div class="model-list" id="chatList"></div>
      </aside>
      <section class="card chat-card">
        <div class="chat-body" id="messages"></div>
        <div class="typing" id="typingHint">Est√° escribiendo‚Ä¶</div>
        <div class="chat-input">
          <input class="input" id="msgText" placeholder="Escribe un mensaje (2 monedas)"/>
          <button class="btn btn-primary" id="btnSend">Enviar</button>
        </div>
      </section>
    </div>
  </section>

  <!-- PROFILE -->
  <section id="view-profile" class="view">
    <div class="card">
      <h3>Mi perfil</h3>
      <div class="field"><input class="input" id="pAlias" placeholder="Alias"/></div>
      <div class="field"><input class="input" id="pStatus" placeholder="Estado"/></div>
      <button class="btn btn-primary" id="btnSaveProfile">Guardar</button>
    </div>
  </section>
</main>

<script>
  function renderModelCards(){
  const models=DB.get('models',[]);
  const grid=document.getElementById('modelsGrid');
  grid.innerHTML='';
  models.forEach(m=>{
    // Puedes a√±adir edad y hobby si los tienes guardados en el objeto m
    const age = m.age || Math.floor(20+Math.random()*20); 
    const hobby = m.hobby || 'Fitness';
    const card=document.createElement('div');
    card.className='model-card';
    card.innerHTML=`
      <img src="${m.img}" alt="${m.name}">
      <div class="info">
        <div class="name">${m.name} <span class="online">‚óè Online</span></div>
        <div class="extra">${age} a√±os ¬∑ ${hobby}</div>
      </div>
      <button>Chatea ahora</button>
    `;
    card.querySelector('button').onclick=()=>openConversation(m.id);
    grid.appendChild(card);
  });
}

/* DB */
const DB={get:(k,f=null)=>{try{const v=localStorage.getItem(k);return v?JSON.parse(v):f}catch{return f}},set:(k,v)=>localStorage.setItem(k,JSON.stringify(v))};
const START_COINS=50, COIN_PER_MSG=2;
/* Seed modelos */
if(!DB.get('models'))DB.set('models',[{id:'m1',name:'Luna',desc:'Tierna y juguetona',img:'https://picsum.photos/300/400?1'}]);
/* Router */
const views={auth:'view-auth',chat:'view-chat',profile:'view-profile'};
function go(v){Object.values(views).forEach(id=>document.getElementById(id).classList.remove('active'));document.getElementById(views[v]).classList.add('active');}
document.querySelectorAll('[data-go]').forEach(b=>b.onclick=()=>go(b.dataset.go));
/* Auth */
let session=null;
document.getElementById('btnLogin').onclick=()=>{session={alias:'User',coins:START_COINS};go('chat');renderModels();};
document.getElementById('btnRegister').onclick=()=>{session={alias:document.getElementById('regAlias').value,coins:START_COINS};go('chat');renderModels();};
document.getElementById('btnGlobalLogout').onclick=()=>{session=null;go('auth')};
/* Perfil */
document.getElementById('btnSaveProfile').onclick=()=>{session.alias=document.getElementById('pAlias').value};
/* Chat */
const messages=document.getElementById('messages'), coinsLabel=document.getElementById('coinsLabel');
function renderModels(){coinsLabel.textContent=session.coins;const list=document.getElementById('chatList');list.innerHTML='';DB.get('models',[]).forEach(m=>{const d=document.createElement('div');d.className='model-item';d.innerHTML=`<img src="${m.img}"><div><b>${m.name}</b><div class=small>${m.desc}</div></div>`;d.onclick=()=>openChat(m);list.appendChild(d)});}
let currentModel=null;
function openChat(m){currentModel=m;messages.innerHTML=`<div class="msg them">Holi ${session.alias} üíï ¬øquieres jugar?</div>`;}
document.getElementById('btnSend').onclick=()=>{if(!currentModel)return;const val=document.getElementById('msgText').value;if(!val)return;if(session.coins<COIN_PER_MSG){alert('Sin monedas');return;}session.coins-=COIN_PER_MSG;coinsLabel.textContent=session.coins;messages.innerHTML+=`<div class="msg you">${val}</div>`;document.getElementById('msgText').value='';setTimeout(()=>messages.innerHTML+=`<div class="msg them">Me encanta üòç</div>`,800)};
/* Swipe */
function renderSwipe(){const wrap=document.getElementById('swipeWrap');wrap.innerHTML='';DB.get('models',[]).forEach(m=>{const c=document.createElement('div');c.className='card-swipe';c.innerHTML=`<img src="${m.img}"><div class=info><b>${m.name}</b> ¬∑ ${m.desc}</div>`;wrap.appendChild(c)});}
renderSwipe();
</script>
</body>
</html>
