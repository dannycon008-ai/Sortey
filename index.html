<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Rifa Premium | Tu Diamante</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 4 -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <!-- Fuente Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Poppins', sans-serif; background: #fff; color: #0a4975; }

    /* Navbar */
    .navbar {
      background: linear-gradient(to right, #000f35, white, #000f35);
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      min-height: 70px;
    }
    .navbar img { height: 100px; width: 100px; border-radius: 50%; object-fit: cover; margin: 5px 0; }

    section { padding: 60px 0; }
    h2 { font-weight: 800; color: #005899; display: flex; align-items: center; justify-content: center; gap: 10px; }

    /* Premios */
    .premio-card {
      background: #fff; border-radius: 15px; padding: 20px; text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .premio-card img { width: 40px; margin-right: 8px; }
    .premio-card h4 { display: flex; align-items: center; justify-content: center; gap: 6px; font-weight: 700; }
    .premio-card p { font-size: 20px; font-weight: 700; margin-top: 10px; }

    /* Boletos */
    .tickets-container {
      border: 2px solid #005899; border-radius: 12px; padding: 20px; margin: 20px auto;
      max-width: 1200px; max-height: 600px; overflow-y: auto; background: #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .tickets-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); gap: 10px; }
    .ticket {
      border: 2px solid #005899; border-radius: 20px; padding: 6px; font-weight: 600;
      text-align: center; cursor: pointer; transition: all 0.2s ease-in-out; position: relative;
    }
    .ticket:hover { background: #5d8aa6; color: #fff; transform: translateY(-2px); }
    .ticket.vendido { background: #f8f8f8; border-color: #ccc; cursor: not-allowed; }
    .ticket.vendido::after {
      content: ""; position: absolute; top: -5px; right: -5px; width: 18px; height: 18px;
      background-image: url("https://qu.ax/zcmdn.png"); background-size: cover;
    }
    .ticket.seleccionado { background: #005899 !important; color: #fff !important; }

    /* Barra progreso */
    .progress-total { background: #eee; border-radius: 20px; height: 25px; margin-bottom: 15px; overflow: hidden; }
    .progress-actual { background: linear-gradient(90deg, #005899, #0a4975); height: 100%; width: 0; transition: width 1.5s ease-in-out; }

    /* Totales */
    #total-seleccionados p { font-size: 25px; font-weight: 700; }
    #boletos-elegidos { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-top: 10px; }
    #boletos-elegidos .ticket { min-width: 60px; padding-right: 22px; position: relative; }
    #boletos-elegidos .remove-btn {
      position: absolute; top: -6px; right: -6px; background: red; color: white; border-radius: 50%;
      border: none; font-size: 12px; width: 18px; height: 18px; cursor: pointer;
    }

    /* Formulario */
    .form-card { background: #fff; border-radius: 15px; padding: 25px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    .form-card label { font-weight: 600; color: #005899; }
    .metodo-pago-container { display: flex; gap: 20px; justify-content: center; }
    .metodo-pago { border: 2px solid #005899; border-radius: 10px; padding: 10px; text-align: center; cursor: pointer; }
    .metodo-pago img { width: 50px; margin-bottom: 5px; }

    /* Footer */
    .footer-section { background: #005899; color: #fff; padding: 20px; }
  </style>
</head>
<body>

  <!-- NAVBAR -->
  <nav class="navbar fixed-top navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand" href="#"><img src="https://qu.ax/eMtjy.png" alt="Tu Diamante"></a>
    </div>
  </nav>

  <!-- PREMIOS -->
  <section id="premios" class="container mt-5 pt-5">
    <h2>üéÅ PREMIOS</h2>
    <div class="row mt-4">
      <div class="col-md-4"><div class="premio-card"><h4><img src="https://qu.ax/guAKy.png">Premio 1</h4><p>10.000 Bs</p></div></div>
      <div class="col-md-4"><div class="premio-card"><h4><img src="https://qu.ax/LVLbo.png">Premio 2</h4><p>15.000 Bs</p></div></div>
      <div class="col-md-4"><div class="premio-card"><h4><img src="https://qu.ax/DygfK.png">Premio 3</h4><p>30.000 Bs</p></div></div>
    </div>
  </section>

  <!-- BOLETOS -->
  <section id="boletos" class="container mt-5">
    <h2>üéüÔ∏è Lista de Boletos</h2>
    <div class="progress-total"><div class="progress-actual" id="progress-bar"></div></div>
    <p class="progress-percent text-center" id="progress-text">0% Vendidos</p>

    <!-- üîé Buscador -->
    <div class="input-group mb-3">
      <input type="text" id="buscar-boleto" class="form-control" placeholder="N√∫mero de boleto (ej: 0045)">
      <div class="input-group-append"><button class="btn btn-primary" type="button" onclick="buscarBoleto()">üîé Buscar</button></div>
    </div>
    <div id="mensaje-busqueda" class="text-center mb-3" style="font-weight:600;"></div>

    <div class="tickets-container"><div id="boletos-list" class="tickets-grid"></div></div>

    <div class="text-center mt-4">
      <button class="btn btn-primary" onclick="prevPage()">‚¨ÖÔ∏è Anterior</button>
      <span id="page-info" class="mx-3">P√°gina 1 de 5</span>
      <button class="btn btn-primary" onclick="nextPage()">Siguiente ‚û°Ô∏è</button>
    </div>

    <div id="total-seleccionados" class="text-center mt-3"></div>
    <div id="boletos-elegidos" class="text-center"></div>

    <!-- üé≤ Aleatorio -->
    <div class="text-center mt-3">
      <button class="btn btn-success" onclick="elegirSuerte()">üé≤ Elegir boletos aleatorios (4)</button>
    </div>
    <div id="resultado-suerte" class="text-center mt-3" style="font-size:20px; font-weight:600; color:#005899;"></div>
  </section>

  <!-- FORMULARIO -->
  <section id="formulario" class="container mt-5">
    <div class="form-card">
      <h2>üìù Datos Personales</h2>
      <form>
        <label>Nombre y Apellido</label>
        <input type="text" class="form-control" required>
        <label>C√©dula</label>
        <input type="text" class="form-control" required>
        <label>Tel√©fono</label>
        <div class="input-group">
          <select class="form-control" style="max-width:90px;">
            <option value="+58" selected>üáªüá™ +58</option>
            <option value="+57">üá®üá¥ +57</option>
            <option value="+1">üá∫üá∏ +1</option>
            <option value="+34">üá™üá∏ +34</option>
          </select>
          <input type="tel" class="form-control" placeholder="N√∫mero de tel√©fono" required>
        </div>
        <label>Comprobante de pago</label>
        <input type="file" class="form-control" required>

        <label>M√©todo de Pago</label>
        <div class="metodo-pago-container">
          <div class="metodo-pago" onclick="mostrarInstrucciones('pago-movil')"><img src="https://play-lh.googleusercontent.com/1p1Y0PT24TZ9y6oYD0dkcqgg6BCGimhhH4XJ4lOUMj8m-VJ6FYEZbcMAHkYLhG7NDaY=w480-h960-rw"><span>Pago M√≥vil</span></div>
          <div class="metodo-pago" onclick="mostrarInstrucciones('banesco')"><img src="https://play-lh.googleusercontent.com/JP3qF5hwz0z7z-d2PEu21dhtdb7EBlC-5XKAuE0e2zLUAjWca-ePijvcb-nAQGAa9Ng=w480-h960-rw"><span>Banesco</span></div>
          <div class="metodo-pago" onclick="mostrarInstrucciones('binance')"><img src="https://upload.wikimedia.org/wikipedia/commons/5/57/Binance_Logo.png"><span>Binance</span></div>
        </div>
        <div id="instrucciones" class="instrucciones mt-3"></div>
        <button class="btn btn-success btn-block mt-3">Confirmar Compra</button>
      </form>
    </div>
  </section>

  <!-- VERIFICADOR -->
  <section id="verificador" class="container mt-5">
    <div class="form-card">
      <h2>üîé Verificador de Boletos</h2>
      <form onsubmit="verificarBoletos(event)">
        <label>Ingresa tu n√∫mero de tel√©fono o # de boleto</label>
        <input type="text" id="inputVerificador" class="form-control" required>
        <button class="btn btn-primary btn-block mt-3" type="submit">Verificar</button>
      </form>
      <div id="resultadoVerificador" class="mt-4" style="display:none;">
        <h5>üìã Resultados:</h5>
        <div id="detalleBoletos"></div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer-section text-center mt-5"><p>¬© 2025 Tu Diamante - Todos los derechos reservados.</p></footer>

  <!-- JS -->
  <script>
    const TOTAL_BOLETOS = 10000, POR_PAGINA = 2000, PRECIO_BOLETO = 15;
    let paginaActual = 1, boletos = [], boletosSeleccionados = [];

    function generarBoletos(){for(let i=0;i<TOTAL_BOLETOS;i++){let numero=i.toString().padStart(4,'0');let vendido=Math.random()<0.1;boletos.push({numero,vendido});}}

    function toggleSeleccion(b){if(b.vendido)return;const i=boletosSeleccionados.indexOf(b.numero);i===-1?boletosSeleccionados.push(b.numero):boletosSeleccionados.splice(i,1);mostrarBoletos();actualizarTotalSeleccionados();}
    function quitarBoleto(num){const i=boletosSeleccionados.indexOf(num);if(i!==-1)boletosSeleccionados.splice(i,1);mostrarBoletos();actualizarTotalSeleccionados();}

    function actualizarTotalSeleccionados(){const t=document.getElementById("total-seleccionados"),d=document.getElementById("boletos-elegidos"),c=boletosSeleccionados.length,total=c*PRECIO_BOLETO;
      if(c>0){t.innerHTML=`<p>Boletos seleccionados: ${c}</p><p>Total a pagar: ${total} Bs</p>`;
        d.innerHTML=boletosSeleccionados.map(num=>`<div class="ticket seleccionado">${num}<button class="remove-btn" onclick="quitarBoleto('${num}')">‚úñ</button></div>`).join("");}
      else{t.innerHTML="";d.innerHTML="";}}

    function mostrarBoletos(){const cont=document.getElementById('boletos-list');cont.innerHTML="";let ini=(paginaActual-1)*POR_PAGINA,fin=ini+POR_PAGINA;
      boletos.slice(ini,fin).forEach(b=>{let div=document.createElement('div');div.className="ticket"+(b.vendido?" vendido":"")+(boletosSeleccionados.includes(b.numero)?" seleccionado":"");div.textContent=b.numero;div.onclick=()=>toggleSeleccion(b);cont.appendChild(div);});
      document.getElementById('page-info').textContent=`P√°gina ${paginaActual} de ${Math.ceil(TOTAL_BOLETOS/POR_PAGINA)}`;actualizarProgreso();}

    function actualizarProgreso(){let v=boletos.filter(b=>b.vendido).length,p=Math.round((v/TOTAL_BOLETOS)*100);document.getElementById('progress-bar').style.width=p+"%";document.getElementById('progress-text').textContent=p+"% Vendidos";}

    function nextPage(){if(paginaActual<TOTAL_BOLETOS/POR_PAGINA){paginaActual++;mostrarBoletos();}}
    function prevPage(){if(paginaActual>1){paginaActual--;mostrarBoletos();}}

    function buscarBoleto(){const v=document.getElementById("buscar-boleto").value.trim(),m=document.getElementById("mensaje-busqueda");if(!v)return;
      const i=boletos.findIndex(b=>b.numero===v);if(i===-1){m.innerHTML=`<span class="text-danger">‚ùå Ese boleto no existe</span>`;return;}
      const b=boletos[i];if(b.vendido){m.innerHTML=`<span class="text-danger">‚ùå Boleto comprado por otra persona</span>`;}else{paginaActual=Math.floor(i/POR_PAGINA)+1;if(!boletosSeleccionados.includes(b.numero)){boletosSeleccionados.push(b.numero);}mostrarBoletos();actualizarTotalSeleccionados();m.innerHTML=`<span class="text-success">‚úÖ Boleto ${b.numero} agregado y mostrado en la p√°gina ${paginaActual}</span>`;
        setTimeout(()=>{const cont=document.getElementById("boletos-list");const el=[...cont.children].find(e=>e.textContent===b.numero);if(el){el.scrollIntoView({behavior:"smooth",block:"center"});el.style.boxShadow="0 0 10px 3px gold";setTimeout(()=>el.style.boxShadow="",1500);}},200);}}

    function elegirSuerte(){boletosSeleccionados=[];const d=boletos.filter(b=>!b.vendido);let e=[];for(let i=0;i<4&&d.length>0;i++){const r=Math.floor(Math.random()*d.length);const n=d[r].numero;boletosSeleccionados.push(n);e.push(n);d.splice(r,1);}mostrarBoletos();actualizarTotalSeleccionados();document.getElementById("resultado-suerte").innerHTML="üéüÔ∏è Boletos elegidos a la suerte: "+e.join(", ");}

    function mostrarInstrucciones(m){const b=document.getElementById("instrucciones");b.style.display="block";if(m==="pago-movil"){b.innerHTML="<h5>üì± Pago M√≥vil Venezuela</h5><p><b>Banco:</b> 0102<br><b>Tel√©fono:</b> 0424-8417632<br><b>C√©dula:</b> V-31490382<br><b>Titular:</b> Angel Zabala</p>";}else if(m==="banesco"){b.innerHTML="<h5>üè¶ Banesco</h5><p><b>Cuenta:</b> 0134<br><b>Titular:</b> Iraima Jimenez</p>";}else if(m==="binance"){b.innerHTML="<h5>üí∞ Binance</h5><p><b>Wallet:</b> angelitojavier277@gmail.com</p>";}}

    let comprasSimuladas=[{nombre:"Juan P√©rez",cedula:"V-12345678",telefono:"04128417632",boletos:["0001","0002","0005"]}];

    function verificarBoletos(e){e.preventDefault();const v=document.getElementById("inputVerificador").value.trim();const res=document.getElementById("resultadoVerificador"),det=document.getElementById("detalleBoletos");let c=comprasSimuladas.find(x=>x.telefono===v);if(!c){comprasSimuladas.forEach(x=>{if(x.boletos.includes(v))c=x;});}
      if(c){det.innerHTML=`<p><b>Nombre:</b> ${c.nombre}</p><p><b>C√©dula:</b> ${c.cedula}</p><p><b>Tel√©fono:</b> ${c.telefono}</p><p><b>Boletos comprados:</b></p><div>${c.boletos.map(num=>`<div class='ticket'>${num}</div>`).join("")}</div><p><b>Total Pagado:</b> ${c.boletos.length*PRECIO_BOLETO} Bs</p>`;}else{det.innerHTML=`<p class="text-danger">‚ùå No se encontraron boletos asociados.</p>`;}res.style.display="block";}
    
    generarBoletos();mostrarBoletos();
  </script>
</body>
</html>
