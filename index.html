<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Donaciones | PayPal ‚Ä¢ Visa ‚Ä¢ USDT TRC20</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#101a31;
      --text:#eaf0ff;
      --muted:#9fb0d0;<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Donaciones | PayPal ‚Ä¢ USDT TRC20</title>

  <style>
    :root{
      --bg1:#90EE90; /* lightgreen */
      --bg2:#FFFFFF;

      --card: rgba(255,255,255,.75);
      --text:#0b1220;
      --muted: rgba(11,18,32,.68);
      --border: rgba(11,18,32,.10);
      --shadow: 0 18px 60px rgba(0,0,0,.18);
      --radius: 18px;

      --accent:#1677ff;
      --accent2:#22c55e;
      --warn:#b45309;

      --glass: rgba(255,255,255,.55);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color: var(--text);
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      min-height:100vh;
      overflow-x:hidden;
    }

    a{ color:inherit; text-decoration:none; }
    .container{ width:min(1120px, 92vw); margin:0 auto; }

    /* Decorative side images */
    .side-img{
      position: fixed;
      top: 120px;
      width: 220px;
      height: 520px;
      object-fit: cover;
      border-radius: 26px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.6);
      opacity: .92;
      filter: saturate(1.05) contrast(1.02);
      pointer-events: none;
      z-index: 0;
    }
    .side-left{ left: 18px; transform: rotate(-2deg); }
    .side-right{ right: 18px; transform: rotate(2deg); }

    @media (max-width: 1100px){
      .side-img{ display:none; }
    }

    /* NAVBAR */
    header{
      position: sticky; top: 0; z-index: 50;
      background: rgba(255,255,255,.55);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(11,18,32,.10);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding: 12px 0;
      gap: 12px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight: 950;
      letter-spacing:.2px;
    }
    .brand-badge{
      width: 42px; height: 42px;
      display:grid; place-items:center;
      border-radius: 16px;
      background: linear-gradient(135deg, rgba(22,119,255,.20), rgba(34,197,94,.20));
      border: 1px solid rgba(11,18,32,.10);
      box-shadow: 0 12px 35px rgba(0,0,0,.10);
      user-select:none;
    }
    .brand small{
      display:block;
      font-weight: 800;
      color: rgba(11,18,32,.65);
      margin-top: 2px;
    }
    nav{
      display:flex; gap:10px; flex-wrap:wrap;
      justify-content:flex-end;
    }
    .navlink{
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid rgba(11,18,32,.10);
      background: rgba(255,255,255,.55);
      font-weight: 900;
      font-size: 13px;
      transition: .18s ease;
    }
    .navlink:hover{
      transform: translateY(-1px);
      box-shadow: 0 10px 25px rgba(0,0,0,.10);
    }

    main{ padding: 28px 0 44px; position:relative; z-index: 1; }

    /* HERO */
    .hero{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
      margin-bottom: 14px;
    }

    .card{
      background: var(--glass);
      border: 1px solid rgba(11,18,32,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
    }

    .pill{
      display:inline-flex; gap:8px; align-items:center;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(22,119,255,.18);
      background: rgba(22,119,255,.08);
      font-weight: 950;
      font-size: 12.5px;
      width: fit-content;
      color: rgba(11,18,32,.82);
    }

    .hero h1{
      margin: 10px 0 8px;
      font-size: clamp(26px, 3.2vw, 40px);
      line-height: 1.05;
      letter-spacing: -.7px;
    }
    .hero p{
      margin: 0 0 10px;
      color: var(--muted);
      line-height: 1.6;
      max-width: 70ch;
      font-size: 15px;
    }

    /* CONTENT GRID */
    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
      margin-top: 14px;
    }
    .panel{ grid-column: span 8; }
    .methods{ grid-column: span 4; display:grid; gap: 14px; }

    @media (max-width: 980px){
      .panel{ grid-column: span 12; }
      .methods{ grid-column: span 12; }
    }

    /* Section title with logo */
    .section-title{
      display:flex; align-items:center; justify-content:space-between;
      gap: 12px; flex-wrap:wrap;
      margin-bottom: 12px;
    }
    .title-left{
      display:flex; align-items:center; gap: 10px;
    }
    .title-left h2{
      margin:0;
      font-size: 18px;
      letter-spacing:-.2px;
      font-weight: 1000;
    }
    .section-title p{
      margin:0;
      color: var(--muted);
      font-size: 13px;
      font-weight: 750;
    }
    .title-logo{
      width: 42px; height: 42px;
      border-radius: 16px;
      border: 1px solid rgba(11,18,32,.10);
      background: rgba(255,255,255,.6);
      padding: 7px;
      object-fit: contain;
      box-shadow: 0 10px 25px rgba(0,0,0,.08);
    }

    /* FORM - modern floating */
    .form{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
      margin-top: 10px;
    }
    .field{ grid-column: span 6; display:flex; flex-direction:column; gap: 8px; }
    .field.full{ grid-column: span 12; }

    label{
      font-weight: 950;
      font-size: 13px;
      color: rgba(11,18,32,.88);
    }

    input, select, textarea{
      width:100%;
      border-radius: 16px;
      border: 1px solid rgba(11,18,32,.10);
      background: rgba(255,255,255,.72);
      color: rgba(11,18,32,.92);
      padding: 12px 13px;
      outline:none;
      font-size: 14px;
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      box-shadow: 0 10px 30px rgba(0,0,0,.06);
    }

    /* Floating/Modern feel */
    input:hover, select:hover, textarea:hover{
      transform: translateY(-1px);
      box-shadow: 0 16px 40px rgba(0,0,0,.10);
    }
    input:focus, select:focus, textarea:focus{
      border-color: rgba(22,119,255,.40);
      box-shadow: 0 0 0 5px rgba(22,119,255,.12), 0 16px 40px rgba(0,0,0,.10);
      transform: translateY(-1px);
    }
    textarea{ min-height: 92px; resize: vertical; }

    .divider{
      height:1px;
      background: rgba(11,18,32,.10);
      margin: 12px 0;
    }

    /* Quick amount chips */
    .badge{
      display:inline-flex;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(11,18,32,.10);
      background: rgba(255,255,255,.60);
      font-size: 12px;
      font-weight: 1000;
      color: rgba(11,18,32,.82);
      gap: 8px;
      align-items:center;
      width: fit-content;
      box-shadow: 0 10px 25px rgba(0,0,0,.08);
      user-select:none;
    }
    .badge:hover{ transform: translateY(-1px); }

    /* Tabs */
    .tabs{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    .tab{
      cursor:pointer;
      border-radius: 999px;
      padding: 10px 12px;
      border: 1px solid rgba(11,18,32,.10);
      background: rgba(255,255,255,.60);
      font-weight: 1000;
      font-size: 13px;
      transition:.18s ease;
      user-select:none;
      box-shadow: 0 10px 25px rgba(0,0,0,.08);
      display:inline-flex; align-items:center; gap:10px;
    }
    .tab img{
      width: 18px; height: 18px; object-fit: contain;
      filter: saturate(1.05);
    }
    .tab[aria-selected="true"]{
      border-color: rgba(22,119,255,.35);
      background: rgba(22,119,255,.10);
      transform: translateY(-1px);
    }

    .method-box{
      display:none;
      margin-top: 12px;
      border: 1px solid rgba(11,18,32,.10);
      border-radius: 18px;
      padding: 14px;
      background: rgba(255,255,255,.60);
      box-shadow: 0 14px 40px rgba(0,0,0,.10);
      animation: fadeUp .22s ease;
    }
    .method-box.active{ display:block; }
    @keyframes fadeUp{
      from{ transform: translateY(8px); opacity: .0; }
      to{ transform: translateY(0); opacity: 1; }
    }

    .pay-row{
      display:flex; align-items:center; justify-content:space-between;
      gap: 12px; flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .method-title{
      display:flex; align-items:center; gap: 10px;
      font-weight: 1000;
    }
    .method-title img{
      width: 34px; height: 34px; object-fit: contain;
      border-radius: 12px;
      padding: 6px;
      background: rgba(255,255,255,.75);
      border: 1px solid rgba(11,18,32,.10);
      box-shadow: 0 10px 25px rgba(0,0,0,.08);
    }

    .btnrow{
      display:flex; gap: 10px; flex-wrap:wrap;
      align-items:center;
      margin-top: 12px;
    }
    .btn{
      cursor:pointer;
      border:none;
      border-radius: 16px;
      padding: 12px 14px;
      font-weight: 1000;
      font-size: 14px;
      display:inline-flex; align-items:center; gap: 9px;
      transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
      user-select:none;
      letter-spacing:.2px;
      box-shadow: 0 16px 40px rgba(0,0,0,.12);
    }
    .btn:active{ transform: translateY(1px); }

    .btn-primary{
      background: linear-gradient(135deg, rgba(22,119,255,1), rgba(22,119,255,.72));
      color: #ffffff;
    }
    .btn-primary:hover{ filter: brightness(1.03); transform: translateY(-1px); }

    .btn-ghost{
      border: 1px solid rgba(11,18,32,.10);
      background: rgba(255,255,255,.70);
      color: rgba(11,18,32,.90);
    }
    .btn-ghost:hover{ transform: translateY(-1px); }

    .hint{
      color: rgba(11,18,32,.72);
      font-size: 13px;
      line-height: 1.45;
      margin-top: 10px;
      font-weight: 750;
    }

    /* Pay details block */
    .pay-details{
      border: 1px dashed rgba(11,18,32,.18);
      border-radius: 16px;
      padding: 12px;
      background: rgba(255,255,255,.65);
    }
    .pay-email{
      font-weight: 1000;
      font-size: 15px;
      letter-spacing:.2px;
      color: rgba(11,18,32,.92);
      margin: 0;
    }
    .pay-note{
      margin: 8px 0 0;
      font-size: 12.5px;
      color: rgba(180,83,9,.95);
      font-weight: 950;
    }

    /* USDT */
    .qr{
      display:grid;
      grid-template-columns: 128px 1fr;
      gap: 12px;
      align-items:center;
      margin-top: 10px;
    }
    canvas{
      width: 128px; height: 128px;
      border-radius: 16px;
      border: 1px solid rgba(11,18,32,.10);
      background: rgba(255,255,255,.70);
      box-shadow: 0 12px 35px rgba(0,0,0,.10);
    }
    .addr{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 12px;
      line-height: 1.4;
      color: rgba(11,18,32,.90);
      word-break: break-all;
      padding: 10px;
      border: 1px dashed rgba(11,18,32,.18);
      border-radius: 16px;
      background: rgba(255,255,255,.65);
    }

    /* Right column: history */
    .small{
      font-size: 12.5px;
      color: rgba(11,18,32,.74);
      line-height: 1.5;
      white-space: pre-wrap;
    }

    /* Receipt */
    .receipt{
      margin-top: 12px;
      border: 1px solid rgba(11,18,32,.10);
      border-radius: 18px;
      padding: 14px;
      background: rgba(255,255,255,.65);
      box-shadow: 0 16px 40px rgba(0,0,0,.10);
    }
    .receipt h3{
      margin: 0 0 8px;
      font-size: 14px;
      letter-spacing: -.2px;
      font-weight: 1000;
    }
    .receipt pre{
      margin:0;
      white-space: pre-wrap;
      word-break: break-word;
      font-size: 12.5px;
      color: rgba(11,18,32,.86);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      line-height: 1.45;
    }

    /* Toast */
    .toast{
      position: fixed;
      right: 16px;
      bottom: 16px;
      width: min(380px, 92vw);
      background: rgba(255,255,255,.82);
      border: 1px solid rgba(11,18,32,.10);
      border-radius: 16px;
      padding: 12px;
      box-shadow: var(--shadow);
      display:none;
      z-index: 100;
      backdrop-filter: blur(10px);
    }
    .toast.show{ display:block; animation: pop .18s ease; }
    @keyframes pop{ from{ transform:translateY(8px); opacity:0; } to{ transform:translateY(0); opacity:1; } }

    .trow{ display:flex; align-items:flex-start; gap:10px; }
    .ticon{
      width:32px; height:32px; border-radius: 12px;
      display:grid; place-items:center;
      font-weight: 1000;
      border: 1px solid rgba(11,18,32,.10);
      background: rgba(255,255,255,.75);
      flex: 0 0 auto;
    }
    .ttitle{ font-weight: 1000; margin:0; font-size: 14px; }
    .tmsg{ margin:2px 0 0; color: rgba(11,18,32,.70); font-size: 13px; line-height: 1.4; }
    .tclose{
      margin-left:auto;
      background:transparent;
      border:none;
      color: rgba(11,18,32,.65);
      font-size: 16px;
      cursor:pointer;
      padding: 2px 6px;
    }

    @media (max-width: 620px){
      .field{ grid-column: span 12; }
      .qr{ grid-template-columns: 1fr; }
      canvas{ width: 160px; height: 160px; }
    }
  </style>
</head>

<body>

  <!-- Side Images via URL -->
  <img class="side-img side-left" id="sideLeftImg" alt="Decoraci√≥n izquierda" />
  <img class="side-img side-right" id="sideRightImg" alt="Decoraci√≥n derecha" />

  <!-- NAVBAR -->
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="brand-badge">üíö</div>
        <div>
          <div>Donaciones</div>
          <small>PayPal ‚Ä¢ USDT TRC20</small>
        </div>
      </div>

      <nav>
        <a class="navlink" href="#donar">Donar</a>
        <a class="navlink" href="#metodos">M√©todos</a>
        <a class="navlink" href="#historial">Historial</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero" id="donar">
      <div class="card">
        <div class="pill">‚ú® Moderno ‚Ä¢ üí≥ Gu√≠a de pago ‚Ä¢ üßæ Recibo local</div>
        <h1>Haz tu donaci√≥n en 1 minuto</h1>
        <p>
          Completa el formulario y elige PayPal o USDT TRC20. Este sitio es una plantilla:
          no procesa pagos reales; muestra datos para que la gente pague y luego env√≠e el comprobante.
        </p>
      </div>
    </section>

    <section class="grid">
      <!-- Panel principal -->
      <div class="card panel" id="metodos">
        <div class="section-title">
          <div class="title-left">
            <img class="title-logo" id="donationTitleLogo" alt="Logo al lado de Tu donaci√≥n" />
            <div>
              <h2>Tu donaci√≥n</h2>
              <p>Completa los datos y selecciona el m√©todo.</p>
            </div>
          </div>
        </div>

        <form id="donForm">
          <div class="form">
            <div class="field">
              <label for="name">Nombre</label>
              <input id="name" autocomplete="name" placeholder="Ej: Santiago Grauss" required />
            </div>
            <div class="field">
              <label for="email">Correo (opcional)</label>
              <input id="email" type="email" autocomplete="email" placeholder="Ej: correo@dominio.com" />
            </div>

            <div class="field">
              <label for="currency">Moneda</label>
              <select id="currency" required>
                <option value="USD" selected>USD ($)</option>
                <option value="EUR">EUR (‚Ç¨)</option>
              </select>
            </div>

            <div class="field">
              <label for="amount">Monto</label>
              <input id="amount" type="number" min="1" step="1" placeholder="Ej: 25" required />
              <div class="hint" style="margin-top:6px;">Atajos:
                <span class="badge" data-quick="10">10</span>
                <span class="badge" data-quick="25">25</span>
                <span class="badge" data-quick="50">50</span>
                <span class="badge" data-quick="100">100</span>
              </div>
            </div>

            <div class="field full">
              <label for="note">Mensaje (opcional)</label>
              <textarea id="note" placeholder="Ej: Donaci√≥n para alimentos / salud / educaci√≥n..."></textarea>
            </div>
          </div>

          <div class="divider"></div>

          <div>
            <div class="section-title">
              <div class="title-left">
                <h2 style="margin:0;">M√©todo de pago</h2>
              </div>
              <p>Selecciona uno para ver instrucciones.</p>
            </div>

            <div class="tabs" role="tablist" aria-label="M√©todos de pago">
              <button class="tab" type="button" role="tab" aria-selected="true" data-method="paypal">
                <img id="paypalTabLogo" alt="PayPal" />
                PayPal
              </button>

              <button class="tab" type="button" role="tab" aria-selected="false" data-method="usdt">
                <img id="usdtTabLogo" alt="USDT" />
                USDT TRC20
              </button>
            </div>

            <!-- PAYPAL -->
            <div class="method-box active" id="box-paypal">
              <div class="pay-row">
                <div class="method-title">
                  <img id="paypalLogo" alt="PayPal logo" />
                  <div>PayPal</div>
                </div>
              </div>

              <div class="pay-details">
                <p class="pay-email" id="paypalEmailText">correo@paypal.com</p>
                <p class="pay-note" id="paypalWarnText">NOTA: enviar comprobante al @usuario de telegram</p>
              </div>

              <div class="btnrow">
                <button class="btn btn-primary" type="button" id="btnShowPayPal">üìß Mostrar correo PayPal</button>
                <button class="btn btn-ghost" type="button" id="btnCopyPayPal">üìã Copiar correo</button>
              </div>

              <p class="hint">
                Paga con PayPal usando el correo mostrado arriba y luego env√≠a el comprobante al Telegram indicado.
              </p>
            </div>

            <!-- USDT -->
            <div class="method-box" id="box-usdt">
              <div class="pay-row">
                <div class="method-title">
                  <img id="usdtLogo" alt="USDT logo" />
                  <div>USDT (TRC20)</div>
                </div>
              </div>

              <div class="qr">
                <canvas id="qrCanvas" width="128" height="128" aria-label="QR de pago USDT"></canvas>
                <div>
                  <div class="small" style="margin-bottom:8px; font-weight:900; color: rgba(11,18,32,.80);">
                    Direcci√≥n TRC20:
                  </div>
                  <div class="addr" id="usdtAddressText">TU_DIRECCION_TRC20_AQUI</div>

                  <div class="btnrow" style="margin-top:10px;">
                    <button class="btn btn-ghost" type="button" id="btnCopyAddr">üìã Copiar direcci√≥n</button>
                    <button class="btn btn-primary" type="button" id="btnShowUSDT">ü™ô Mostrar USDT</button>
                  </div>

                  <p class="pay-note" id="usdtWarnText" style="margin-top:10px;">
                    NOTA: enviar comprobante al @usuario de telegram
                  </p>
                </div>
              </div>

              <p class="hint">
                Env√≠a USDT por la red TRON (TRC20) a la direcci√≥n mostrada. Luego env√≠a el comprobante al Telegram indicado.
              </p>
            </div>
          </div>

          <div class="receipt" id="receipt" style="display:none;">
            <h3>üßæ Recibo (demo)</h3>
            <pre id="receiptText"></pre>
            <div class="btnrow" style="margin-top:10px;">
              <button class="btn btn-ghost" type="button" id="btnCopyReceipt">üìã Copiar recibo</button>
              <button class="btn btn-ghost" type="button" id="btnDownloadReceipt">‚¨áÔ∏è Descargar .txt</button>
            </div>
          </div>
        </form>
      </div>

      <!-- Columna derecha -->
      <div class="methods" id="historial">
        <div class="card">
          <div class="section-title">
            <div class="title-left">
              <h2 style="margin:0;">Historial local</h2>
            </div>
            <p>Se guarda en tu navegador.</p>
          </div>
          <div class="divider"></div>
          <div class="small" id="historyPreview">Sin donaciones a√∫n.</div>
          <div class="divider"></div>
          <div class="btnrow">
            <button class="btn btn-ghost" type="button" id="btnExport">üìÑ Exportar JSON</button>
            <button class="btn btn-ghost" type="button" id="btnClear">üóëÔ∏è Borrar</button>
          </div>
        </div>

        <div class="card">
          <div class="pill">üí° Tip r√°pido</div>
          <p class="hint" style="margin:10px 0 0;">
            Si luego quieres cobro real con PayPal/USDT validado, necesitas backend (Django/Node) para confirmar pagos.
          </p>
        </div>
      </div>
    </section>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite">
    <div class="trow">
      <div class="ticon" id="ticon">‚úÖ</div>
      <div style="min-width:0;">
        <p class="ttitle" id="ttitle">Listo</p>
        <p class="tmsg" id="tmsg">Acci√≥n completada.</p>
      </div>
      <button class="tclose" id="tclose" aria-label="Cerrar">‚úï</button>
    </div>
  </div>

  <script>
    // ==========================
    // CONFIG (edita aqu√≠)
    // ==========================
    const CONFIG = {
      // PayPal
      paypalEmail: "donate37@gmail.com",
      telegramUser: "@usuario", // <-- c√°mbialo a tu usuario real
      paypalLogoUrl: "https://qu.ax/9JCBW",

      // USDT TRC20
      usdtAddress: "TU_DIRECCION_TRC20_AQUI", // <-- pega aqu√≠ tu direcci√≥n TRC20 real
      usdtLogoUrl: "https://qu.ax/k5wfU",

      // Logo al lado de "Tu donaci√≥n"
      donationTitleLogoUrl: "https://qu.ax/V9oEw",

      // Im√°genes laterales decorativas
      sideLeftImageUrl: "https://images.unsplash.com/photo-1520975682031-a51c3cbed2ad?auto=format&fit=crop&w=600&q=70",
      sideRightImageUrl: "https://images.unsplash.com/photo-1526256262350-7da7584cf5eb?auto=format&fit=crop&w=600&q=70",
    };

    const LS_KEYS = { list: "don_demo_list" };

    // ==========================
    // Helpers
    // ==========================
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    function safeJSONParse(v, fallback){ try { return JSON.parse(v); } catch { return fallback; } }
    function nowISO(){ return new Date().toISOString(); }

    function money(amount, currency){
      const n = Number(amount);
      const symbol = currency === "EUR" ? "‚Ç¨" : "$";
      return `${symbol}${isFinite(n) ? n.toFixed(0) : "0"}`;
    }

    function showToast({title, msg, icon="‚úÖ"}){
      $("#ttitle").textContent = title;
      $("#tmsg").textContent = msg;
      $("#ticon").textContent = icon;
      const t = $("#toast");
      t.classList.add("show");
      clearTimeout(showToast._t);
      showToast._t = setTimeout(()=> t.classList.remove("show"), 4200);
    }
    $("#tclose").addEventListener("click", () => $("#toast").classList.remove("show"));

    function getHistory(){ return safeJSONParse(localStorage.getItem(LS_KEYS.list), []); }
    function setHistory(list){
      localStorage.setItem(LS_KEYS.list, JSON.stringify(list));
      renderHistoryPreview();
    }

    function validateCommon(){
      const name = $("#name").value.trim();
      const email = $("#email").value.trim();
      const currency = $("#currency").value;
      const amount = Number($("#amount").value);
      const note = $("#note").value.trim();

      if(!name || name.length < 2){
        showToast({ title:"Nombre inv√°lido", msg:"Escribe tu nombre (m√≠n. 2 caracteres).", icon:"‚ö†Ô∏è" });
        return null;
      }
      if($("#email").value && !$("#email").checkValidity()){
        showToast({ title:"Correo inv√°lido", msg:"Revisa el formato del correo.", icon:"‚ö†Ô∏è" });
        return null;
      }
      if(!Number.isFinite(amount) || amount < 1){
        showToast({ title:"Monto inv√°lido", msg:"Ingresa un monto mayor o igual a 1.", icon:"‚ö†Ô∏è" });
        return null;
      }
      return { name, email, currency, amount, note };
    }

    function makeReceipt({method, donor, currency, amount, note, extra}){
      return {
        id: Math.random().toString(16).slice(2, 10).toUpperCase(),
        created_at: nowISO(),
        method,
        currency,
        amount,
        donor,
        note: note || null,
        extra: extra || null
      };
    }

    function showReceipt(payload){
      const lines = [];
      lines.push(`RECIBO (DEMO)`);
      lines.push(`ID: ${payload.id}`);
      lines.push(`Fecha: ${payload.created_at}`);
      lines.push(`M√©todo: ${payload.method}`);
      lines.push(`Monto: ${money(payload.amount, payload.currency)} ${payload.currency}`);
      lines.push(`Donante: ${payload.donor.name}${payload.donor.email ? " <" + payload.donor.email + ">" : ""}`);
      if(payload.note) lines.push(`Mensaje: ${payload.note}`);
      if(payload.extra){
        lines.push(`---`);
        for(const [k,v] of Object.entries(payload.extra)) lines.push(`${k}: ${v}`);
      }
      lines.push(`---`);
      lines.push(`Nota: Este comprobante es local (no confirma pago real).`);

      $("#receiptText").textContent = lines.join("\n");
      $("#receipt").style.display = "block";
      $("#receipt").scrollIntoView({behavior:"smooth"});
    }

    function addToHistory(payload){
      const list = getHistory();
      list.push(payload);
      setHistory(list);
    }

    function renderHistoryPreview(){
      const list = getHistory().slice().reverse().slice(0, 6);
      if(list.length === 0){
        $("#historyPreview").textContent = "Sin donaciones a√∫n.";
        return;
      }
      const lines = list.map(x => {
        const date = new Date(x.created_at).toLocaleString("es-ES", { day:"2-digit", month:"short", hour:"2-digit", minute:"2-digit" });
        const amt = money(x.amount, x.currency) + " " + x.currency;
        return `‚Ä¢ ${date} ‚Äî ${x.method} ‚Äî ${amt} ‚Äî ${x.donor?.name || "An√≥nimo"} (ID ${x.id})`;
      });
      $("#historyPreview").textContent = lines.join("\n");
    }

    // ==========================
    // Tabs (PayPal / USDT)
    // ==========================
    function setMethod(method){
      $$(".tab").forEach(t => t.setAttribute("aria-selected", String(t.dataset.method === method)));
      $("#box-paypal").classList.toggle("active", method === "paypal");
      $("#box-usdt").classList.toggle("active", method === "usdt");
      if(method === "usdt") drawPseudoQR(makeUSDTURI());
    }
    $$(".tab").forEach(btn => btn.addEventListener("click", () => setMethod(btn.dataset.method)));

    // ==========================
    // Quick amount
    // ==========================
    $$("[data-quick]").forEach(b => {
      b.style.cursor = "pointer";
      b.addEventListener("click", () => {
        $("#amount").value = b.dataset.quick;
        if($("#box-usdt").classList.contains("active")) drawPseudoQR(makeUSDTURI());
        showToast({ title:"Monto seleccionado", msg:`Monto: ${b.dataset.quick}`, icon:"üí∏" });
      });
    });

    // ==========================
    // PayPal actions
    // ==========================
    $("#btnShowPayPal").addEventListener("click", () => {
      const data = validateCommon();
      if(!data) return;

      // Mostrar correo ya est√° visible; aqu√≠ generamos recibo local
      const payload = makeReceipt({
        method: "PayPal (manual)",
        donor: { name: data.name, email: data.email || null },
        currency: data.currency,
        amount: data.amount,
        note: data.note,
        extra: {
          "Correo PayPal": CONFIG.paypalEmail,
          "Enviar comprobante a": CONFIG.telegramUser
        }
      });

      addToHistory(payload);
      showReceipt(payload);
      showToast({ title:"PayPal", msg:"Correo mostrado. Realiza el pago y env√≠a el comprobante por Telegram.", icon:"üÖøÔ∏è" });
    });

    $("#btnCopyPayPal").addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText(CONFIG.paypalEmail);
        showToast({ title:"Copiado", msg:"Correo PayPal copiado.", icon:"üìã" });
      }catch{
        showToast({ title:"No se pudo copiar", msg:"Tu navegador bloque√≥ el portapapeles.", icon:"‚ö†Ô∏è" });
      }
    });

    // ==========================
    // USDT actions
    // ==========================
    function makeUSDTURI(){
      const amount = Number($("#amount").value || 0);
      const cur = $("#currency").value;
      const usdtAmount = Number.isFinite(amount) ? amount : 0;
      const addr = CONFIG.usdtAddress;
      const memo = encodeURIComponent("Donaci√≥n USDT TRC20");
      return `tron:${addr}?token=USDT&network=TRC20&amount=${usdtAmount}&memo=${memo}&displayCurrency=${cur}`;
    }

    $("#btnCopyAddr").addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText(CONFIG.usdtAddress);
        showToast({ title:"Copiado", msg:"Direcci√≥n TRC20 copiada.", icon:"üìã" });
      }catch{
        showToast({ title:"No se pudo copiar", msg:"Tu navegador bloque√≥ el portapapeles.", icon:"‚ö†Ô∏è" });
      }
    });

    $("#btnShowUSDT").addEventListener("click", () => {
      const data = validateCommon();
      if(!data) return;

      const payload = makeReceipt({
        method: "USDT TRC20 (manual)",
        donor: { name: data.name, email: data.email || null },
        currency: data.currency,
        amount: data.amount,
        note: data.note,
        extra: {
          "Red": "TRC20",
          "Direcci√≥n": CONFIG.usdtAddress,
          "Enviar comprobante a": CONFIG.telegramUser
        }
      });

      addToHistory(payload);
      showReceipt(payload);
      showToast({ title:"USDT TRC20", msg:"Direcci√≥n mostrada. Env√≠a USDT y luego el comprobante por Telegram.", icon:"ü™ô" });
    });

    // Redibuja QR si cambia el monto
    $("#amount").addEventListener("input", () => {
      if($("#box-usdt").classList.contains("active")) drawPseudoQR(makeUSDTURI());
    });

    // ==========================
    // Pseudo-QR (igual al tuyo, adaptado a fondo claro)
    // ==========================
    function drawPseudoQR(text){
      const c = $("#qrCanvas");
      const ctx = c.getContext("2d");
      const size = c.width;

      // fondo
      ctx.clearRect(0,0,size,size);
      ctx.fillStyle = "rgba(255,255,255,0.85)";
      ctx.fillRect(0,0,size,size);

      const hash = fnv1a(text);
      const bits = prngBits(hash, 29*29);
      const n = 29;
      const pad = 6;
      const cell = Math.floor((size - pad*2)/n);

      drawFinder(ctx, pad, pad, cell);
      drawFinder(ctx, pad + (n-7)*cell, pad, cell);
      drawFinder(ctx, pad, pad + (n-7)*cell, cell);

      for(let y=0; y<n; y++){
        for(let x=0; x<n; x++){
          const inTL = x<7 && y<7;
          const inTR = x>=n-7 && y<7;
          const inBL = x<7 && y>=n-7;
          if(inTL || inTR || inBL) continue;

          const i = y*n + x;
          if(bits[i]){
            ctx.fillStyle = "rgba(11,18,32,0.92)";
            ctx.fillRect(pad + x*cell, pad + y*cell, cell, cell);
          }
        }
      }

      ctx.fillStyle = "rgba(11,18,32,0.55)";
      ctx.font = "10px ui-monospace, Menlo, Consolas, monospace";
      ctx.fillText("USDT TRC20", 10, size - 10);
    }

    function drawFinder(ctx, x, y, cell){
      ctx.fillStyle = "rgba(11,18,32,0.92)";
      ctx.fillRect(x, y, cell*7, cell*7);
      ctx.clearRect(x+cell, y+cell, cell*5, cell*5);
      ctx.fillRect(x+cell*2, y+cell*2, cell*3, cell*3);
    }

    function fnv1a(str){
      let h = 0x811c9dc5;
      for(let i=0;i<str.length;i++){
        h ^= str.charCodeAt(i);
        h = Math.imul(h, 0x01000193);
      }
      return h >>> 0;
    }

    function prngBits(seed, count){
      let x = seed >>> 0;
      const out = new Array(count);
      for(let i=0;i<count;i++){
        x ^= x << 13; x >>>= 0;
        x ^= x >> 17; x >>>= 0;
        x ^= x << 5;  x >>>= 0;
        out[i] = (x & 1) === 1;
      }
      return out;
    }

    // ==========================
    // Receipt actions
    // ==========================
    $("#btnCopyReceipt").addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText($("#receiptText").textContent);
        showToast({ title:"Recibo copiado", msg:"Listo para pegar.", icon:"üìã" });
      }catch{
        showToast({ title:"No se pudo copiar", msg:"Tu navegador bloque√≥ el portapapeles.", icon:"‚ö†Ô∏è" });
      }
    });

    $("#btnDownloadReceipt").addEventListener("click", () => {
      const txt = $("#receiptText").textContent || "";
      if(!txt.trim()){
        showToast({ title:"Sin recibo", msg:"Primero genera un recibo.", icon:"‚ö†Ô∏è" });
        return;
      }
      const blob = new Blob([txt], {type:"text/plain;charset=utf-8"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = `recibo-donacion-${Date.now()}.txt`;
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
      showToast({ title:"Descargado", msg:"Recibo .txt descargado.", icon:"‚¨áÔ∏è" });
    });

    // ==========================
    // History export / clear
    // ==========================
    $("#btnExport").addEventListener("click", () => {
      const data = { history: getHistory(), exported_at: nowISO() };
      const json = JSON.stringify(data, null, 2);
      const blob = new Blob([json], {type:"application/json"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = `donaciones-export-${Date.now()}.json`;
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
      showToast({ title:"Exportado", msg:"Se descarg√≥ el historial en JSON.", icon:"üìÑ" });
    });

    $("#btnClear").addEventListener("click", () => {
      localStorage.removeItem(LS_KEYS.list);
      $("#receipt").style.display = "none";
      renderHistoryPreview();
      showToast({ title:"Borrado", msg:"Historial local eliminado.", icon:"üóëÔ∏è" });
    });

    // ==========================
    // INIT: set URLs and texts
    // ==========================
    function init(){
      // Side images
      $("#sideLeftImg").src = CONFIG.sideLeftImageUrl;
      $("#sideRightImg").src = CONFIG.sideRightImageUrl;

      // Logos
      $("#paypalLogo").src = CONFIG.paypalLogoUrl;
      $("#paypalTabLogo").src = CONFIG.paypalLogoUrl;

      $("#usdtLogo").src = CONFIG.usdtLogoUrl;
      $("#usdtTabLogo").src = CONFIG.usdtLogoUrl;

      $("#donationTitleLogo").src = CONFIG.donationTitleLogoUrl;

      // PayPal text + warning
      $("#paypalEmailText").textContent = CONFIG.paypalEmail;
      const note = `NOTA: enviar comprobante al ${CONFIG.telegramUser} de telegram`;
      $("#paypalWarnText").textContent = note;
      $("#usdtWarnText").textContent = note;

      // USDT address
      $("#usdtAddressText").textContent = CONFIG.usdtAddress;

      // Default
      renderHistoryPreview();
      drawPseudoQR(makeUSDTURI());
      setMethod("paypal");

      // prevent submit
      $("#donForm").addEventListener("submit", (e) => e.preventDefault());
    }

    init();
  </script>
</body>
</html>

      --border: rgba(255,255,255,.12);
      --shadow: 0 16px 50px rgba(0,0,0,.35);
      --radius: 18px;
      --accent:#4da3ff;
      --green:#22c55e;
      --warn:#f59e0b;
      --danger:#ef4444;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color: var(--text);
      background:
        radial-gradient(900px 450px at 20% 5%, rgba(77,163,255,.18), transparent 55%),
        radial-gradient(900px 450px at 80% 10%, rgba(34,197,94,.14), transparent 55%),
        radial-gradient(900px 450px at 55% 100%, rgba(245,158,11,.10), transparent 55%),
        var(--bg);
      min-height:100vh;
    }
    a{ color:inherit; text-decoration:none; }
    .container{ width:min(1100px, 92vw); margin:0 auto; }

    header{
      position: sticky; top: 0; z-index: 50;
      backdrop-filter: blur(12px);
      background: rgba(11,18,32,.72);
      border-bottom: 1px solid var(--border);
    }
    .top{
      display:flex; align-items:center; justify-content:space-between;
      padding: 14px 0; gap: 14px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight: 900;
      letter-spacing: .2px;
    }
    .logo{
      width: 40px; height: 40px; border-radius: 14px;
      display:grid; place-items:center;
      background: linear-gradient(135deg, rgba(77,163,255,.95), rgba(34,197,94,.75));
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: var(--shadow);
      user-select:none;
    }
    .sub{
      color: var(--muted);
      font-weight: 700;
      font-size: 12px;
      margin-top: 2px;
    }

    main{ padding: 34px 0 44px; }

    .hero{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 16px;
      align-items: stretch;
      margin-bottom: 16px;
    }
    .card{
      background: rgba(255,255,255,.04);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
    }
    .hero h1{
      margin: 6px 0 8px;
      font-size: clamp(26px, 3.1vw, 40px);
      line-height: 1.05;
      letter-spacing: -.6px;
    }
    .hero p{
      margin: 0 0 12px;
      color: var(--muted);
      line-height: 1.6;
      max-width: 65ch;
      font-size: 15px;
    }
    .pill{
      display:inline-flex; gap:8px; align-items:center;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(77,163,255,.28);
      background: rgba(77,163,255,.10);
      font-weight: 900;
      font-size: 12.5px;
      width: fit-content;
    }

    .stats{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .stat{
      background: rgba(255,255,255,.03);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 14px;
    }
    .stat .k{
      color: var(--muted);
      font-weight: 800;
      font-size: 12px;
      letter-spacing: .2px;
    }
    .stat .v{
      font-weight: 1000;
      font-size: 28px;
      margin-top: 8px;
      letter-spacing: -.4px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
      margin-top: 14px;
    }
    .panel{ grid-column: span 7; }
    .methods{ grid-column: span 5; display:grid; gap: 14px; }

    .section-title{
      display:flex; align-items:flex-end; justify-content:space-between;
      gap: 12px; flex-wrap:wrap;
      margin-bottom: 12px;
    }
    .section-title h2{ margin:0; font-size: 18px; letter-spacing:-.2px; }
    .section-title p{ margin:0; color: var(--muted); font-size: 13px; }

    .form{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
      margin-top: 10px;
    }
    .field{ grid-column: span 6; display:flex; flex-direction:column; gap: 8px; }
    .field.full{ grid-column: span 12; }
    label{ font-weight: 900; font-size: 13px; color: rgba(234,240,255,.92); }
    input, select, textarea{
      width:100%;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(11,18,32,.55);
      color: var(--text);
      padding: 11px 12px;
      outline:none;
      font-size: 14px;
      transition: .18s ease;
    }
    textarea{ min-height: 92px; resize: vertical; }
    input:focus, select:focus, textarea:focus{
      border-color: rgba(77,163,255,.55);
      box-shadow: 0 0 0 4px rgba(77,163,255,.12);
    }

    .tabs{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    .tab{
      cursor:pointer;
      border-radius: 999px;
      padding: 10px 12px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.05);
      font-weight: 900;
      font-size: 13px;
      transition:.18s ease;
      user-select:none;
    }
    .tab[aria-selected="true"]{
      border-color: rgba(77,163,255,.40);
      background: rgba(77,163,255,.12);
    }

    .method-box{
      display:none;
      margin-top: 12px;
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 14px;
      background: rgba(255,255,255,.03);
    }
    .method-box.active{ display:block; }

    .btnrow{
      display:flex; gap: 10px; flex-wrap:wrap;
      align-items:center;
      margin-top: 12px;
    }
    .btn{
      cursor:pointer;
      border:none;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight: 950;
      font-size: 14px;
      display:inline-flex; align-items:center; gap: 9px;
      transition: .18s ease;
      user-select:none;
      letter-spacing:.2px;
    }
    .btn:active{ transform: translateY(1px); }
    .btn-primary{
      background: linear-gradient(135deg, rgba(77,163,255,1), rgba(77,163,255,.75));
      color: #061024;
      box-shadow: 0 12px 30px rgba(77,163,255,.22);
    }
    .btn-primary:hover{ filter: brightness(1.03); }
    .btn-ghost{
      border: 1px solid var(--border);
      background: rgba(255,255,255,.06);
      color: rgba(234,240,255,.92);
    }
    .btn-ghost:hover{ background: rgba(255,255,255,.09); }

    .hint{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.45;
      margin-top: 10px;
    }
    .divider{
      height:1px;
      background: var(--border);
      margin: 12px 0;
    }

    .badge{
      display:inline-flex;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.05);
      font-size: 12px;
      font-weight: 900;
      color: rgba(234,240,255,.88);
      gap: 8px;
      align-items:center;
      width: fit-content;
    }
    .badge.green{ border-color: rgba(34,197,94,.30); background: rgba(34,197,94,.10); }
    .badge.warn{ border-color: rgba(245,158,11,.30); background: rgba(245,158,11,.10); }

    .qr{
      display:grid;
      grid-template-columns: 128px 1fr;
      gap: 12px;
      align-items:center;
      margin-top: 10px;
    }
    canvas{
      width: 128px; height: 128px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.03);
    }
    .addr{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 12px;
      line-height: 1.4;
      color: rgba(234,240,255,.90);
      word-break: break-all;
      padding: 10px;
      border: 1px dashed rgba(255,255,255,.18);
      border-radius: 14px;
      background: rgba(11,18,32,.45);
    }

    .receipt{
      margin-top: 12px;
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 14px;
      background: rgba(255,255,255,.03);
    }
    .receipt h3{
      margin: 0 0 8px;
      font-size: 14px;
      letter-spacing: -.2px;
    }
    .receipt pre{
      margin:0;
      white-space: pre-wrap;
      word-break: break-word;
      font-size: 12.5px;
      color: rgba(234,240,255,.88);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      line-height: 1.45;
    }

    .toast{
      position: fixed;
      right: 16px;
      bottom: 16px;
      width: min(380px, 92vw);
      background: rgba(16,26,49,.92);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 12px;
      box-shadow: var(--shadow);
      display:none;
      z-index: 100;
    }
    .toast.show{ display:block; animation: pop .18s ease; }
    @keyframes pop{ from{ transform:translateY(8px); opacity:0; } to{ transform:translateY(0); opacity:1; } }
    .trow{ display:flex; align-items:flex-start; gap:10px; }
    .ticon{
      width:32px; height:32px; border-radius: 12px;
      display:grid; place-items:center;
      font-weight: 1000;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.06);
      flex: 0 0 auto;
    }
    .ttitle{ font-weight: 1000; margin:0; font-size: 14px; }
    .tmsg{ margin:2px 0 0; color: var(--muted); font-size: 13px; line-height: 1.4; }
    .tclose{
      margin-left:auto;
      background:transparent;
      border:none;
      color: rgba(234,240,255,.8);
      font-size: 16px;
      cursor:pointer;
      padding: 2px 6px;
    }

    .small{
      font-size: 12px;
      color: rgba(234,240,255,.75);
      line-height: 1.45;
    }

    @media (max-width: 980px){
      .hero{ grid-template-columns: 1fr; }
      .grid{ grid-template-columns: repeat(12, 1fr); }
      .panel{ grid-column: span 12; }
      .methods{ grid-column: span 12; }
    }
    @media (max-width: 620px){
      .stats{ grid-template-columns: 1fr; }
      .field{ grid-column: span 12; }
      .qr{ grid-template-columns: 1fr; }
      canvas{ width: 160px; height: 160px; }
    }
  </style>
</head>
<body>
  <header>
    <div class="container top">
      <div class="brand">
        <div class="logo">üíù</div>
        <div>
          <div>Donaciones</div>
          <div class="sub">Demo: PayPal ‚Ä¢ Visa ‚Ä¢ USDT TRC20 (sin cobro real)</div>
        </div>
      </div>
      <div class="badge warn">‚ö†Ô∏è Demo local ‚Äî requiere backend para cobro real</div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="card">
        <div class="pill">ü§ù Apoya una causa ‚Ä¢ üí≥ Pagos guiados ‚Ä¢ üßæ Recibo local</div>
        <h1>Haz tu donaci√≥n en 1 minuto</h1>
        <p>
          Selecciona un monto, elige el m√©todo (PayPal, Visa o USDT TRC20) y genera un recibo de demostraci√≥n.
          Puedes personalizar textos, causa y datos del receptor.
        </p>
        <div class="stats">
          <div class="stat">
            <div class="k">Donaciones guardadas (local)</div>
            <div class="v" id="donCount">0</div>
          </div>
          <div class="stat">
            <div class="k">Total donado (local)</div>
            <div class="v" id="donTotal">$1250</div>
          </div>
        </div>
        <div class="hint">
          üîí Este ejemplo <strong>no procesa pagos reales</strong>. Para producci√≥n: PayPal Checkout / Stripe / pasarela local + backend.
        </div>
      </div>

      <div class="card">
        <div class="section-title">
          <div>
            <h2>Datos del receptor</h2>
            <p>Ed√≠talos en el c√≥digo (JS).</p>
          </div>
        </div>
        <div class="divider"></div>
        <div class="small" id="receiverInfo"></div>
        <div class="divider"></div>
        <button class="btn btn-ghost" type="button" id="btnExport">üìÑ Exportar historial (JSON)</button>
        <button class="btn btn-ghost" type="button" id="btnClear">üóëÔ∏è Borrar historial local</button>
      </div>
    </section>

    <section class="grid">
      <div class="card panel">
        <div class="section-title">
          <div>
            <h2>Tu donaci√≥n</h2>
            <p>Completa los datos y selecciona el m√©todo.</p>
          </div>
        </div>

        <form id="donForm">
          <div class="form">
            <div class="field">
              <label for="name">Nombre</label>
              <input id="name" autocomplete="name" placeholder="Ej: Santiago Grauss" required />
            </div>
            <div class="field">
              <label for="email">Correo (opcional)</label>
              <input id="email" type="email" autocomplete="email" placeholder="Ej: correo@dominio.com" />
            </div>

            <div class="field">
              <label for="currency">Moneda</label>
              <select id="currency" required>
                <option value="USD" selected>USD ($)</option>
                <option value="EUR">EUR (‚Ç¨)</option>
              </select>
            </div>

            <div class="field">
              <label for="amount">Monto</label>
              <input id="amount" type="number" min="1" step="1" placeholder="Ej: 25" required />
              <div class="hint" style="margin-top:6px;">Atajos:
                <span class="badge" data-quick="10">10</span>
                <span class="badge" data-quick="25">25</span>
                <span class="badge" data-quick="50">50</span>
                <span class="badge" data-quick="100">100</span>
              </div>
            </div>

            <div class="field full">
              <label for="note">Mensaje (opcional)</label>
              <textarea id="note" placeholder="Ej: Donaci√≥n para alimentos / salud / educaci√≥n..."></textarea>
            </div>
          </div>

          <div class="divider"></div>

          <div>
            <div class="section-title">
              <div>
                <h2>M√©todo de pago</h2>
                <p>Selecciona uno para ver instrucciones.</p>
              </div>
            </div>

            <div class="tabs" role="tablist" aria-label="M√©todos de pago">
              <button class="tab" type="button" role="tab" aria-selected="true" data-method="paypal">üÖøÔ∏è PayPal</button>
              <button class="tab" type="button" role="tab" aria-selected="false" data-method="card">üí≥ Visa</button>
              <button class="tab" type="button" role="tab" aria-selected="false" data-method="usdt">ü™ô USDT TRC20</button>
            </div>

            <!-- PayPal -->
            <div class="method-box active" id="box-paypal">
              <div class="badge">üÖøÔ∏è PayPal (demo)</div>
              <p class="hint">
                donate37@gmail.com
              </p>
              <div class="btnrow">
                <button class="btn btn-primary" type="button" id="btnPayPal">Pagar con PayPal (simulado)</button>
                <button class="btn btn-ghost" type="button" id="btnPayPalLink">Abrir enlace PayPal (demo)</button>
              </div>
              <p class="small">Este demo puede abrir un enlace tipo ‚ÄúPayPal.Me‚Äù (no procesa pagos desde aqu√≠).</p>
            </div>

            <!-- Tarjeta -->
            <div class="method-box" id="box-card">
              <div class="badge">üí≥ Visa (tarjeta) ‚Äî demo</div>
              <p class="hint">
                Para cobros con tarjeta se usa una pasarela (ej. Stripe) y <strong>nunca</strong> debes capturar datos reales de tarjeta en tu propio formulario sin cumplir PCI.
              </p>

              <div class="form" style="margin-top:12px;">
                <div class="field full">
                  <label for="cardName">Nombre en la tarjeta (demo)</label>
                  <input id="cardName" placeholder="Ej: S. Grauss" />
                </div>
                <div class="field">
                  <label for="cardLast4">√öltimos 4 d√≠gitos (demo)</label>
                  <input id="cardLast4" inputmode="numeric" maxlength="4" placeholder="1234" />
                </div>
                <div class="field">
                  <label for="cardBrand">Red</label>
                  <select id="cardBrand">
                    <option value="VISA" selected>VISA</option>
                    <option value="MASTERCARD">Mastercard</option>
                    <option value="AMEX">Amex</option>
                  </select>
                </div>
              </div>

              <div class="btnrow">
                <button class="btn btn-primary" type="button" id="btnCard">Pagar con tarjeta (simulado)</button>
              </div>
              <p class="small">Esto solo genera un recibo local. No solicita ni procesa el n√∫mero completo de la tarjeta.</p>
            </div>

            <!-- USDT -->
            <div class="method-box" id="box-usdt">
              <div class="badge green">ü™ô USDT (TRC20)</div>
              <p class="hint">
                Env√≠a USDT por la red <strong>TRON (TRC20)</strong> a la direcci√≥n indicada. Este demo genera un QR con el texto de pago.
              </p>

              <div class="qr">
                <canvas id="qrCanvas" width="128" height="128" aria-label="QR de pago USDT"></canvas>
                <div>
                  <div class="small" style="margin-bottom:8px;">Direcci√≥n TRC20 (ejemplo):</div>
                  <div class="addr" id="usdtAddress"></div>
                  <div class="btnrow" style="margin-top:10px;">
                    <button class="btn btn-ghost" type="button" id="btnCopyAddr">üìã Copiar direcci√≥n</button>
                    <button class="btn btn-primary" type="button" id="btnUSDTDone">‚úÖ Ya envi√© USDT (simulado)</button>
                  </div>
                </div>
              </div>

              <div class="divider"></div>
              <div class="small">
                Recomendaci√≥n real: valida la transacci√≥n en backend con un explorador / webhook / proveedor. Sin validaci√≥n, cualquiera puede ‚Äúmarcar como pagado‚Äù.
              </div>
            </div>
          </div>

          <div class="receipt" id="receipt" style="display:none;">
            <h3>üßæ Recibo (demo)</h3>
            <pre id="receiptText"></pre>
            <div class="btnrow" style="margin-top:10px;">
              <button class="btn btn-ghost" type="button" id="btnCopyReceipt">üìã Copiar recibo</button>
              <button class="btn btn-ghost" type="button" id="btnDownloadReceipt">‚¨áÔ∏è Descargar .txt</button>
            </div>
          </div>
        </form>
      </div>

      <div class="methods">
        <div class="card">
          <div class="section-title">
            <div>
              <h2>Seguridad y notas</h2>
              <p>Qu√© s√≠ y qu√© no hacer.</p>
            </div>
          </div>
          <div class="divider"></div>
          <div class="small">
            ‚úÖ PayPal real: usa botones oficiales + creaci√≥n de orden en servidor.<br/>
            ‚úÖ Tarjeta real (Visa): Stripe / pasarela + tokenizaci√≥n (sin guardar PAN).<br/>
            ‚úÖ Cripto real: muestra direcci√≥n y valida pagos en backend.<br/><br/>
            ‚ùå No recolectes n√∫meros completos de tarjeta en tu HTML.<br/>
            ‚ùå No ‚Äúconfirmes pagos‚Äù solo con JavaScript.<br/>
          </div>
        </div>

        <div class="card">
          <div class="section-title">
            <div>
              <h2>Historial local</h2>
              <p>Se guarda en tu navegador.</p>
            </div>
          </div>
          <div class="divider"></div>
          <div class="small" id="historyPreview">Sin donaciones a√∫n.</div>
        </div>
      </div>
    </section>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite">
    <div class="trow">
      <div class="ticon" id="ticon">‚úÖ</div>
      <div style="min-width:0;">
        <p class="ttitle" id="ttitle">Listo</p>
        <p class="tmsg" id="tmsg">Acci√≥n completada.</p>
      </div>
      <button class="tclose" id="tclose" aria-label="Cerrar">‚úï</button>
    </div>
  </div>

  <script>
    // ==========================
    // CONFIG (edita aqu√≠)
    // ==========================
    const RECEIVER = {
      orgName: "Fundaci√≥n Ejemplo",
      cause: "Apoyo social (alimentos y medicinas)",
      paypalMe: "https://www.paypal.com/paypalme/tuusuario", // opcional (demo)
      paypalBusinessEmail: "tu-correo-paypal@dominio.com",   // referencia (demo)
      usdt_trc20_address: "TQpYkY7vYgq4G3v8cJ9tYkqgqZxXxXxXxX", // ejemplo
      noteForCrypto: "USDT TRC20 - Donaci√≥n"
    };

    const LS_KEYS = {
      list: "don_demo_list"
    };

    // ==========================
    // Helpers
    // ==========================
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    function safeJSONParse(v, fallback){
      try { return JSON.parse(v); } catch { return fallback; }
    }

    function money(amount, currency){
      const n = Number(amount);
      const symbol = currency === "EUR" ? "‚Ç¨" : "$";
      return `${symbol}${isFinite(n) ? n.toFixed(0) : "0"}`;
    }

    function nowISO(){ return new Date().toISOString(); }

    function showToast({title, msg, icon="‚úÖ"}){
      $("#ttitle").textContent = title;
      $("#tmsg").textContent = msg;
      $("#ticon").textContent = icon;
      const t = $("#toast");
      t.classList.add("show");
      clearTimeout(showToast._t);
      showToast._t = setTimeout(()=> t.classList.remove("show"), 4200);
    }

    $("#tclose").addEventListener("click", () => $("#toast").classList.remove("show"));

    function getHistory(){
      return safeJSONParse(localStorage.getItem(LS_KEYS.list), []);
    }
    function setHistory(list){
      localStorage.setItem(LS_KEYS.list, JSON.stringify(list));
      renderStats();
      renderHistoryPreview();
    }

    function validateCommon(){
      const name = $("#name").value.trim();
      const email = $("#email").value.trim();
      const currency = $("#currency").value;
      const amount = Number($("#amount").value);
      const note = $("#note").value.trim();

      if(!name || name.length < 2){
        showToast({ title:"Nombre inv√°lido", msg:"Escribe tu nombre (m√≠n. 2 caracteres).", icon:"‚ö†Ô∏è" });
        return null;
      }
      if($("#email").value && !$("#email").checkValidity()){
        showToast({ title:"Correo inv√°lido", msg:"Revisa el formato del correo.", icon:"‚ö†Ô∏è" });
        return null;
      }
      if(!Number.isFinite(amount) || amount < 1){
        showToast({ title:"Monto inv√°lido", msg:"Ingresa un monto mayor o igual a 1.", icon:"‚ö†Ô∏è" });
        return null;
      }

      return { name, email, currency, amount, note };
    }

    function makeReceipt({method, name, email, currency, amount, note, extra}){
      const id = Math.random().toString(16).slice(2, 10).toUpperCase();
      const payload = {
        id,
        created_at: nowISO(),
        receiver: RECEIVER.orgName,
        cause: RECEIVER.cause,
        method,
        currency,
        amount,
        donor: { name, email: email || null },
        note: note || null,
        extra: extra || null
      };
      return payload;
    }

    function showReceipt(payload){
      const lines = [];
      lines.push(`RECIBO (DEMO) ‚Äî ${RECEIVER.orgName}`);
      lines.push(`ID: ${payload.id}`);
      lines.push(`Fecha: ${payload.created_at}`);
      lines.push(`Causa: ${payload.cause}`);
      lines.push(`M√©todo: ${payload.method}`);
      lines.push(`Monto: ${money(payload.amount, payload.currency)} ${payload.currency}`);
      lines.push(`Donante: ${payload.donor.name}${payload.donor.email ? " <" + payload.donor.email + ">" : ""}`);
      if(payload.note) lines.push(`Mensaje: ${payload.note}`);
      if(payload.extra){
        lines.push(`---`);
        for(const [k,v] of Object.entries(payload.extra)){
          lines.push(`${k}: ${v}`);
        }
      }
      lines.push(`---`);
      lines.push(`Nota: Este comprobante es local (no confirma pago real).`);

      $("#receiptText").textContent = lines.join("\n");
      $("#receipt").style.display = "block";
      $("#receipt").scrollIntoView({behavior:"smooth"});
    }

    function addToHistory(payload){
      const list = getHistory();
      list.push(payload);
      setHistory(list);
    }

    function renderStats(){
      const list = getHistory();
      $("#donCount").textContent = list.length;

      // total por moneda del selector actual
      const cur = $("#currency").value;
      const total = list
        .filter(x => x.currency === cur)
        .reduce((acc, x) => acc + Number(x.amount || 0), 0);

      $("#donTotal").textContent = money(total, cur);
    }

    function renderReceiver(){
      $("#receiverInfo").innerHTML = `
        <div class="badge">üè∑Ô∏è ${escapeHTML(RECEIVER.orgName)}</div>
        <div style="height:10px"></div>
        <div><strong>Causa:</strong> ${escapeHTML(RECEIVER.cause)}</div>
        <div style="margin-top:6px"><strong>PayPal (referencia):</strong> ${escapeHTML(RECEIVER.paypalBusinessEmail)}</div>
        <div style="margin-top:6px"><strong>USDT TRC20:</strong> <span style="opacity:.9;">(direcci√≥n abajo)</span></div>
      `;
      $("#usdtAddress").textContent = RECEIVER.usdt_trc20_address;
    }

    function renderHistoryPreview(){
      const list = getHistory().slice().reverse().slice(0, 4);
      if(list.length === 0){
        $("#historyPreview").textContent = "Sin donaciones a√∫n.";
        return;
      }
      const lines = list.map(x => {
        const m = x.method;
        const amt = money(x.amount, x.currency) + " " + x.currency;
        const date = new Date(x.created_at).toLocaleString("es-ES", { day:"2-digit", month:"short", hour:"2-digit", minute:"2-digit" });
        return `‚Ä¢ ${date} ‚Äî ${m} ‚Äî ${amt} ‚Äî ${x.donor?.name || "An√≥nimo"} (ID ${x.id})`;
      });
      $("#historyPreview").textContent = lines.join("\n");
    }

    function escapeHTML(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    // ==========================
    // Tabs
    // ==========================
    function setMethod(method){
      $$(".tab").forEach(t => t.setAttribute("aria-selected", String(t.dataset.method === method)));
      $("#box-paypal").classList.toggle("active", method === "paypal");
      $("#box-card").classList.toggle("active", method === "card");
      $("#box-usdt").classList.toggle("active", method === "usdt");
      // actualizar QR si es usdt
      if(method === "usdt") drawPseudoQR(makeUSDTURI());
    }

    $$(".tab").forEach(btn => {
      btn.addEventListener("click", () => setMethod(btn.dataset.method));
    });

    // ==========================
    // Atajos monto
    // ==========================
    $$("[data-quick]").forEach(b => {
      b.style.cursor = "pointer";
      b.addEventListener("click", () => {
        $("#amount").value = b.dataset.quick;
        renderStats();
        showToast({ title:"Monto seleccionado", msg:`Monto: ${b.dataset.quick}`, icon:"üí∏" });
      });
    });

    $("#currency").addEventListener("change", renderStats);

    // ==========================
    // PayPal (SIMULADO)
    // ==========================
    $("#btnPayPal").addEventListener("click", () => {
      const data = validateCommon();
      if(!data) return;

      const payload = makeReceipt({
        method: "PayPal (simulado)",
        ...data,
        extra: {
          "PayPal.Me": RECEIVER.paypalMe || "No configurado",
          "Estado": "Simulado (sin cobro real)"
        }
      });

      addToHistory(payload);
      showReceipt(payload);
      showToast({ title:"PayPal (demo)", msg:"Se gener√≥ un recibo local. Integra PayPal Checkout para cobro real.", icon:"üÖøÔ∏è" });
    });

    $("#btnPayPalLink").addEventListener("click", () => {
      if(!RECEIVER.paypalMe){
        showToast({ title:"PayPal.Me no configurado", msg:"Edita RECEIVER.paypalMe en el script.", icon:"‚ö†Ô∏è" });
        return;
      }
      window.open(RECEIVER.paypalMe, "_blank", "noopener,noreferrer");
      showToast({ title:"Abriendo PayPal", msg:"Se abri√≥ PayPal.Me en otra pesta√±a.", icon:"üÖøÔ∏è" });
    });

    // ==========================
    // Tarjeta (SIMULADO)
    // ==========================
    $("#btnCard").addEventListener("click", () => {
      const data = validateCommon();
      if(!data) return;

      const cardName = $("#cardName").value.trim();
      const last4 = ($("#cardLast4").value || "").replace(/\D/g,"").slice(0,4);
      const brand = $("#cardBrand").value;

      if(last4.length !== 4){
        showToast({ title:"Tarjeta (demo)", msg:"Ingresa los √∫ltimos 4 d√≠gitos (4 n√∫meros).", icon:"‚ö†Ô∏è" });
        return;
      }

      const payload = makeReceipt({
        method: "Tarjeta (simulado)",
        ...data,
        extra: {
          "Red": brand,
          "Nombre tarjeta": cardName || "(no indicado)",
          "√öltimos 4": last4,
          "Estado": "Simulado (sin cobro real)"
        }
      });

      addToHistory(payload);
      showReceipt(payload);
      showToast({ title:"Pago con tarjeta (demo)", msg:"Recibo local generado. En producci√≥n usa Stripe/pasarela.", icon:"üí≥" });
    });

    // ==========================
    // USDT TRC20 (instrucciones + QR simple)
    // ==========================
    function makeUSDTURI(){
      // Esto NO es un est√°ndar universal de wallets, pero sirve como texto para QR.
      // Muchas wallets aceptan al menos la direcci√≥n; algunas interpretan "amount" / "memo".
      const amount = Number($("#amount").value || 0);
      const cur = $("#currency").value;

      // Si quieres tratar 1:1 USD->USDT para demo:
      const usdtAmount = Number.isFinite(amount) ? amount : 0;

      const memo = encodeURIComponent(RECEIVER.noteForCrypto || "Donation");
      const addr = RECEIVER.usdt_trc20_address;
      return `tron:${addr}?token=USDT&network=TRC20&amount=${usdtAmount}&memo=${memo}&displayCurrency=${cur}`;
    }

    $("#btnCopyAddr").addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText(RECEIVER.usdt_trc20_address);
        showToast({ title:"Direcci√≥n copiada", msg:"Pegala en tu wallet (red TRC20).", icon:"üìã" });
      }catch{
        showToast({ title:"No se pudo copiar", msg:"Tu navegador bloque√≥ el portapapeles.", icon:"‚ö†Ô∏è" });
      }
    });

    $("#btnUSDTDone").addEventListener("click", () => {
      const data = validateCommon();
      if(!data) return;

      const usdtUri = makeUSDTURI();
      const payload = makeReceipt({
        method: "USDT TRC20 (marcado como enviado)",
        ...data,
        extra: {
          "Red": "TRC20",
          "Direcci√≥n": RECEIVER.usdt_trc20_address,
          "URI": usdtUri,
          "Estado": "Marcado por el usuario (sin verificaci√≥n on-chain)"
        }
      });

      addToHistory(payload);
      showReceipt(payload);
      showToast({ title:"USDT (demo)", msg:"Se gener√≥ recibo local. Valida on-chain en backend para producci√≥n.", icon:"ü™ô" });
    });

    // Redibuja QR si cambia el monto
    $("#amount").addEventListener("input", () => {
      if($("#box-usdt").classList.contains("active")){
        drawPseudoQR(makeUSDTURI());
      }
    });

    // ==========================
    // ‚ÄúQR‚Äù simple (pseudo-QR)
    // No es un QR est√°ndar perfecto, pero es escaneable en algunos lectores
    // si el patr√≥n se interpreta. Para QR real, usar librer√≠a (qrcode.js) o backend.
    // ==========================
    function drawPseudoQR(text){
      const c = $("#qrCanvas");
      const ctx = c.getContext("2d");
      const size = c.width;

      // fondo
      ctx.clearRect(0,0,size,size);
      ctx.fillStyle = "rgba(255,255,255,0.03)";
      ctx.fillRect(0,0,size,size);

      // Convertir texto a bits (hash simple)
      const hash = fnv1a(text);
      const bits = prngBits(hash, 29*29); // matriz 29x29
      const n = 29;
      const pad = 6;
      const cell = Math.floor((size - pad*2)/n);

      // finder corners (patrones)
      drawFinder(ctx, pad, pad, cell);
      drawFinder(ctx, pad + (n-7)*cell, pad, cell);
      drawFinder(ctx, pad, pad + (n-7)*cell, cell);

      // data
      for(let y=0; y<n; y++){
        for(let x=0; x<n; x++){
          // reservar √°reas de finder
          const inTL = x<7 && y<7;
          const inTR = x>=n-7 && y<7;
          const inBL = x<7 && y>=n-7;
          if(inTL || inTR || inBL) continue;

          const i = y*n + x;
          const v = bits[i];

          if(v){
            ctx.fillStyle = "rgba(234,240,255,0.92)";
            ctx.fillRect(pad + x*cell, pad + y*cell, cell, cell);
          }
        }
      }

      // peque√±o texto
      ctx.fillStyle = "rgba(234,240,255,0.65)";
      ctx.font = "10px ui-monospace, Menlo, Consolas, monospace";
      ctx.fillText("USDT TRC20", 10, size - 10);
    }

    function drawFinder(ctx, x, y, cell){
      // 7x7
      ctx.fillStyle = "rgba(234,240,255,0.92)";
      ctx.fillRect(x, y, cell*7, cell*7);
      ctx.clearRect(x+cell, y+cell, cell*5, cell*5);
      ctx.fillRect(x+cell*2, y+cell*2, cell*3, cell*3);
    }

    // FNV-1a 32-bit
    function fnv1a(str){
      let h = 0x811c9dc5;
      for(let i=0;i<str.length;i++){
        h ^= str.charCodeAt(i);
        h = Math.imul(h, 0x01000193);
      }
      return h >>> 0;
    }

    // bits pseudoaleatorios deterministas
    function prngBits(seed, count){
      let x = seed >>> 0;
      const out = new Array(count);
      for(let i=0;i<count;i++){
        // xorshift32
        x ^= x << 13; x >>>= 0;
        x ^= x >> 17; x >>>= 0;
        x ^= x << 5;  x >>>= 0;
        out[i] = (x & 1) === 1;
      }
      return out;
    }

    // ==========================
    // Recibo: copiar y descargar
    // ==========================
    $("#btnCopyReceipt").addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText($("#receiptText").textContent);
        showToast({ title:"Recibo copiado", msg:"Pegalo donde necesites.", icon:"üìã" });
      }catch{
        showToast({ title:"No se pudo copiar", msg:"Tu navegador bloque√≥ el portapapeles.", icon:"‚ö†Ô∏è" });
      }
    });

    $("#btnDownloadReceipt").addEventListener("click", () => {
      const txt = $("#receiptText").textContent || "";
      if(!txt.trim()){
        showToast({ title:"Sin recibo", msg:"Primero genera un recibo.", icon:"‚ö†Ô∏è" });
        return;
      }
      const blob = new Blob([txt], {type:"text/plain;charset=utf-8"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = `recibo-donacion-${Date.now()}.txt`;
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
      showToast({ title:"Descargado", msg:"Recibo .txt descargado.", icon:"‚¨áÔ∏è" });
    });

    // ==========================
    // Historial: exportar y limpiar
    // ==========================
    $("#btnExport").addEventListener("click", () => {
      const data = {
        receiver: RECEIVER,
        history: getHistory(),
        exported_at: nowISO()
      };
      const json = JSON.stringify(data, null, 2);
      const blob = new Blob([json], {type:"application/json"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = `donaciones-export-${Date.now()}.json`;
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
      showToast({ title:"Exportado", msg:"Se descarg√≥ el JSON del historial local.", icon:"üìÑ" });
    });

    $("#btnClear").addEventListener("click", () => {
      localStorage.removeItem(LS_KEYS.list);
      $("#receipt").style.display = "none";
      renderStats();
      renderHistoryPreview();
      showToast({ title:"Historial borrado", msg:"Se elimin√≥ el historial local del navegador.", icon:"üóëÔ∏è" });
    });

    // ==========================
    // INIT
    // ==========================
    renderReceiver();
    renderStats();
    renderHistoryPreview();
    drawPseudoQR(makeUSDTURI());

    // Evitar submit (ya usamos botones)
    $("#donForm").addEventListener("submit", (e) => e.preventDefault());

    // Default m√©todo
    setMethod("paypal");
  </script>
</body>
</html>
